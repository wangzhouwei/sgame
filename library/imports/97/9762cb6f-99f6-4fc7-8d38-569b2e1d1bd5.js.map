{"version":3,"sources":["../../../../../assets/Script/xui/assets/Script/xui/sys.js"],"names":["cc","Class","extends","Component","properties","_alert","_btnOK","_btnCancel","_title","_content","_onok","_closeButton","ctor","console","log","onButtonClicked","event","target","name","destroy","show","content","onok","needcancel","self","loader","loadRes","Prefab","error","prefab","alert","instantiate","find","getComponent","Label","on","parent","xx","utils","scaleOut","node","string","undefined","active","x"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAO,IADC;AAERC,gBAAO,IAFC;AAGRC,oBAAW,IAHH;AAIRC,gBAAO,IAJC;AAKRC,kBAAS,IALD;AAMRC,eAAM,IANE;AAORC,sBAAa;AAPL,KAHP;AAYLC,UAAK,gBAAU;AACXC,gBAAQC,GAAR,CAAY,YAAZ;AACH,KAdI;AAeLC,qBAAgB,yBAASC,KAAT,EAAe;AAC3B,YAAGA,MAAMC,MAAN,CAAaC,IAAb,IAAqB,SAAxB,EAAkC;AAC9B,gBAAG,KAAKR,KAAR,EAAc;AACV,qBAAKA,KAAL;AACH;AACJ;AACD,aAAKL,MAAL,CAAYc,OAAZ;AACH,KAtBI;AAuBLC,UAAK,cAASC,OAAT,EAAiBC,IAAjB,EAAsBC,UAAtB,EAAiC;AAClC,YAAIC,OAAO,IAAX;AACA;AACAxB,WAAGyB,MAAH,CAAUC,OAAV,CAAkB,cAAlB,EAAkC1B,GAAG2B,MAArC,EAA6C,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AAClE,gBAAID,KAAJ,EAAW;AACP5B,mBAAG4B,KAAH,CAASA,KAAT;AACA;AACH;AACD;AACA,gBAAIE,QAAQ9B,GAAG+B,WAAH,CAAeF,MAAf,CAAZ;AACA;AACAL,iBAAKnB,MAAL,GAAcyB,KAAd;AACA;AACAN,iBAAKf,QAAL,GAAgBT,GAAGgC,IAAH,CAAQ,wBAAR,EAAkCF,KAAlC,EAAyCG,YAAzC,CAAsDjC,GAAGkC,KAAzD,CAAhB;AACAV,iBAAKjB,UAAL,GAAkBP,GAAGgC,IAAH,CAAQ,sBAAR,EAAgCF,KAAhC,CAAlB;AACAN,iBAAKlB,MAAL,GAAcN,GAAGgC,IAAH,CAAQ,oBAAR,EAA8BF,KAA9B,CAAd;AACAN,iBAAKb,YAAL,GAAoBX,GAAGgC,IAAH,CAAQ,qBAAR,EAA+BF,KAA/B,CAApB;AACA;AACAN,iBAAKlB,MAAL,CAAY6B,EAAZ,CAAe,OAAf,EAAwBX,KAAKT,eAA7B,EAA8CS,IAA9C;AACAA,iBAAKjB,UAAL,CAAgB4B,EAAhB,CAAmB,OAAnB,EAA4BX,KAAKT,eAAjC,EAAkDS,IAAlD;AACAA,iBAAKb,YAAL,CAAkBwB,EAAlB,CAAqB,OAArB,EAA8BX,KAAKT,eAAnC,EAAoDS,IAApD;;AAEA;AACAA,iBAAKnB,MAAL,CAAY+B,MAAZ,GAAqBpC,GAAGgC,IAAH,CAAQ,QAAR,CAArB;;AAEAhC,eAAGqC,EAAH,CAAMC,KAAN,CAAYC,QAAZ,CAAqBf,KAAKnB,MAAL,CAAYmC,IAAjC;AACA;AACAhB,iBAAKd,KAAL,GAAaY,IAAb;;AAEA;AACAE,iBAAKf,QAAL,CAAcgC,MAAd,GAAuBpB,OAAvB;AACA;AACA,gBAAIE,cAAcA,cAAcmB,SAAhC,EAA2C;AAAE;AACzClB,qBAAKjB,UAAL,CAAgBoC,MAAhB,GAAyB,IAAzB;AACH,aAFD,MAEO;AAAG;AACNnB,qBAAKjB,UAAL,CAAgBoC,MAAhB,GAAyB,KAAzB;AACAnB,qBAAKlB,MAAL,CAAYsC,CAAZ,GAAgB,CAAhB;AACH;;AAED;AACA;AACH,SAtCD;AAuCH;AAjEI,CAAT","file":"sys.js","sourceRoot":"../../../../../assets/Script/xui","sourcesContent":["// cc.Class({\n//     extends: cc.Component,\n\n//     properties: {\n//         // foo: {\n//         //    default: null,      // The default value will be used only when the component attaching\n//         //                           to a node for the first time\n//         //    url: cc.Texture2D,  // optional, default is typeof default\n//         //    serializable: true, // optional, default is true\n//         //    visible: true,      // optional, default is true\n//         //    displayName: 'Foo', // optional\n//         //    readonly: false,    // optional, default is false\n//         // },\n//         // ...\n//     },\n//     ctor:function(){\n\n//     },\n//     scaleOut:function(node,callback){\n//         var cbFadeIn = cc.callFunc(()=>{\n//             cc.log('scaleOut end');\n//             if(callback && callback instanceof Function) {\n//                 callback();\n//             }\n//         },this);\n//         var action = cc.sequence(cc.spawn(cc.fadeTo(0.3, 255),cc.scaleTo(0.3, 1.0).easing(cc.easeBackOut())), cbFadeIn);\n//         node.runAction(action);\n//     },\n// });\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _alert:null,\n        _btnOK:null,\n        _btnCancel:null,\n        _title:null,\n        _content:null,\n        _onok:null,\n        _closeButton:null,\n    },\n    ctor:function(){\n        console.log('alert cotr');\n    },\n    onButtonClicked:function(event){\n        if(event.target.name == \"surebtn\"){\n            if(this._onok){\n                this._onok();\n            }\n        }\n        this._alert.destroy();\n    },\n    show:function(content,onok,needcancel){\n        var self = this;\n        // 加载 prefab 创建\n        cc.loader.loadRes(\"prefab/Alert\", cc.Prefab, function (error, prefab) {\n            if (error) {\n                cc.error(error);\n                return;\n            }\n            // 实例 \n            var alert = cc.instantiate(prefab);\n            // Alert 持有\n            self._alert = alert;\n            // 获取子节点\n            self._content = cc.find(\"background/detailLabel\", alert).getComponent(cc.Label);\n            self._btnCancel = cc.find(\"background/centerbtn\", alert);\n            self._btnOK = cc.find(\"background/surebtn\", alert);\n            self._closeButton = cc.find(\"background/closebtn\", alert);\n            // 添加点击事件\n            self._btnOK.on('click', self.onButtonClicked, self);\n            self._btnCancel.on('click', self.onButtonClicked, self);\n            self._closeButton.on('click', self.onButtonClicked, self);\n\n            // 父视图\n            self._alert.parent = cc.find(\"Canvas\");\n\n            cc.xx.utils.scaleOut(self._alert.node);\n            // 回调\n            self._onok = onok;\n\n            // 内容\n            self._content.string = content;\n            // 是否需要取消按钮\n            if (needcancel || needcancel == undefined) { // 显示\n                self._btnCancel.active = true;\n            } else {  // 隐藏\n                self._btnCancel.active = false;\n                self._btnOK.x = 0;\n            }\n\n            // // 参数\n            // self.configAlert(content, onok, needCancel);\n        });\n    },\n});\n"]}