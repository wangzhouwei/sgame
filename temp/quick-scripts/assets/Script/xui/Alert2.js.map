{"version":3,"sources":["Alert2.js"],"names":["cc","Class","extends","Component","properties","_alert","_btnOK","_btnCancel","_title","_content","_onok","_closeButton","ctor","console","log","onButtonClicked","event","target","name","xx","utils","scaleIn","destroy","show","content","onok","needcancel","self","loader","loadRes","Prefab","error","prefab","alert","instantiate","find","getComponent","Label","on","parent","scaleOut","string","undefined","active","x"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAO,IADC;AAERC,gBAAO,IAFC;AAGRC,oBAAW,IAHH;AAIRC,gBAAO,IAJC;AAKRC,kBAAS,IALD;AAMRC,eAAM,IANE;AAORC,sBAAa;AAPL,KAHP;AAYLC,UAAK,gBAAU;AACXC,gBAAQC,GAAR,CAAY,YAAZ;AACH,KAdI;AAeLC,qBAAgB,yBAASC,KAAT,EAAe;AAAA;;AAC3B,YAAGA,MAAMC,MAAN,CAAaC,IAAb,IAAqB,SAAxB,EAAkC;AAC9B,gBAAG,KAAKR,KAAR,EAAc;AACV,qBAAKA,KAAL;AACH;AACJ;AACDV,WAAGmB,EAAH,CAAMC,KAAN,CAAYC,OAAZ,CAAoB,KAAKhB,MAAzB,EAAgC,YAAI;AAChC,kBAAKA,MAAL,CAAYiB,OAAZ;AACH,SAFD;AAGH,KAxBI;AAyBLC,UAAK,cAASC,OAAT,EAAiBC,IAAjB,EAAsBC,UAAtB,EAAiC;AAClC,YAAIC,OAAO,IAAX;AACA;AACA3B,WAAG4B,MAAH,CAAUC,OAAV,CAAkB,cAAlB,EAAkC7B,GAAG8B,MAArC,EAA6C,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AAClE,gBAAID,KAAJ,EAAW;AACP/B,mBAAG+B,KAAH,CAASA,KAAT;AACA;AACH;AACD;AACA,gBAAIE,QAAQjC,GAAGkC,WAAH,CAAeF,MAAf,CAAZ;AACA;AACAL,iBAAKtB,MAAL,GAAc4B,KAAd;AACA;AACAN,iBAAKlB,QAAL,GAAgBT,GAAGmC,IAAH,CAAQ,wBAAR,EAAkCF,KAAlC,EAAyCG,YAAzC,CAAsDpC,GAAGqC,KAAzD,CAAhB;AACAV,iBAAKpB,UAAL,GAAkBP,GAAGmC,IAAH,CAAQ,sBAAR,EAAgCF,KAAhC,CAAlB;AACAN,iBAAKrB,MAAL,GAAcN,GAAGmC,IAAH,CAAQ,oBAAR,EAA8BF,KAA9B,CAAd;AACAN,iBAAKhB,YAAL,GAAoBX,GAAGmC,IAAH,CAAQ,qBAAR,EAA+BF,KAA/B,CAApB;AACA;AACAN,iBAAKrB,MAAL,CAAYgC,EAAZ,CAAe,OAAf,EAAwBX,KAAKZ,eAA7B,EAA8CY,IAA9C;AACAA,iBAAKpB,UAAL,CAAgB+B,EAAhB,CAAmB,OAAnB,EAA4BX,KAAKZ,eAAjC,EAAkDY,IAAlD;AACAA,iBAAKhB,YAAL,CAAkB2B,EAAlB,CAAqB,OAArB,EAA8BX,KAAKZ,eAAnC,EAAoDY,IAApD;;AAEA;AACAA,iBAAKtB,MAAL,CAAYkC,MAAZ,GAAqBvC,GAAGmC,IAAH,CAAQ,QAAR,CAArB;;AAEAnC,eAAGmB,EAAH,CAAMC,KAAN,CAAYoB,QAAZ,CAAqBb,KAAKtB,MAA1B;AACA;AACAsB,iBAAKjB,KAAL,GAAae,IAAb;;AAEA;AACAE,iBAAKlB,QAAL,CAAcgC,MAAd,GAAuBjB,OAAvB;AACA;AACA,gBAAIE,cAAcA,cAAcgB,SAAhC,EAA2C;AAAE;AACzCf,qBAAKpB,UAAL,CAAgBoC,MAAhB,GAAyB,IAAzB;AACH,aAFD,MAEO;AAAG;AACNhB,qBAAKpB,UAAL,CAAgBoC,MAAhB,GAAyB,KAAzB;AACAhB,qBAAKrB,MAAL,CAAYsC,CAAZ,GAAgB,CAAhB;AACH;;AAED;AACA;AACH,SAtCD;AAuCH;AAnEI,CAAT","file":"Alert2.js","sourceRoot":"../../../../../assets/Script/xui","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _alert:null,\n        _btnOK:null,\n        _btnCancel:null,\n        _title:null,\n        _content:null,\n        _onok:null,\n        _closeButton:null,\n    },\n    ctor:function(){\n        console.log('alert cotr');\n    },\n    onButtonClicked:function(event){\n        if(event.target.name == \"surebtn\"){\n            if(this._onok){\n                this._onok();\n            }\n        }\n        cc.xx.utils.scaleIn(this._alert,()=>{\n            this._alert.destroy();\n        });\n    },\n    show:function(content,onok,needcancel){\n        var self = this;\n        // 加载 prefab 创建\n        cc.loader.loadRes(\"prefab/Alert\", cc.Prefab, function (error, prefab) {\n            if (error) {\n                cc.error(error);\n                return;\n            }\n            // 实例 \n            var alert = cc.instantiate(prefab);\n            // Alert 持有\n            self._alert = alert;\n            // 获取子节点\n            self._content = cc.find(\"background/detailLabel\", alert).getComponent(cc.Label);\n            self._btnCancel = cc.find(\"background/centerbtn\", alert);\n            self._btnOK = cc.find(\"background/surebtn\", alert);\n            self._closeButton = cc.find(\"background/closebtn\", alert);\n            // 添加点击事件\n            self._btnOK.on('click', self.onButtonClicked, self);\n            self._btnCancel.on('click', self.onButtonClicked, self);\n            self._closeButton.on('click', self.onButtonClicked, self);\n\n            // 父视图\n            self._alert.parent = cc.find(\"Canvas\");\n\n            cc.xx.utils.scaleOut(self._alert);\n            // 回调\n            self._onok = onok;\n\n            // 内容\n            self._content.string = content;\n            // 是否需要取消按钮\n            if (needcancel || needcancel == undefined) { // 显示\n                self._btnCancel.active = true;\n            } else {  // 隐藏\n                self._btnCancel.active = false;\n                self._btnOK.x = 0;\n            }\n\n            // // 参数\n            // self.configAlert(content, onok, needCancel);\n        });\n    },\n});\n"]}