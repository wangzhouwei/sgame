{"version":3,"sources":["gongGao.js"],"names":["cc","Class","extends","Component","properties","gongGaoTB","lbNotice","Label","isRuning","onLoad","xx","ptEvent","addObserver","onDestroy","removeObserver","next","str","shift","string","node","x","stopRun","startRun","update","dt","width","onMessageEvent","funid","msgid","data","console","log","push","notice"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU,EADF;AAERC,kBAASN,GAAGO,KAFJ;AAGRC,kBAAS;AAHD,KAHP;;AASL;;AAEAC,UAXK,oBAWK;AACNT,WAAGU,EAAH,CAAMC,OAAN,CAAcC,WAAd,CAA0B,IAA1B;AACH,KAbI;AAcLC,aAdK,uBAcM;AACPb,WAAGU,EAAH,CAAMC,OAAN,CAAcG,cAAd,CAA6B,IAA7B;AACH,KAhBI;AAiBLC,QAjBK,kBAiBC;AACF,YAAIC,MAAM,KAAKX,SAAL,CAAeY,KAAf,EAAV;AACA,YAAGD,GAAH,EAAO;AACH,iBAAKV,QAAL,CAAcY,MAAd,GAAuBF,GAAvB;AACA,iBAAKV,QAAL,CAAca,IAAd,CAAmBC,CAAnB,GAAuB,GAAvB;AACA,iBAAKZ,QAAL,GAAgB,IAAhB;AACH,SAJD,MAKK,KAAKa,OAAL;AACR,KAzBI;AA0BLC,YA1BK,sBA0BK;AACN,YAAG,CAAC,KAAKd,QAAT,EAAkB;AACd,iBAAKO,IAAL;AACH;AACJ,KA9BI;AA+BLM,WA/BK,qBA+BI;AACL,aAAKb,QAAL,GAAgB,KAAhB;AACH,KAjCI;AAkCLe,UAlCK,kBAkCEC,EAlCF,EAkCK;AACN,YAAG,KAAKhB,QAAR,EAAiB;AACb,gBAAIY,IAAI,KAAKd,QAAL,CAAca,IAAd,CAAmBC,CAA3B;AACAA,iBAAKI,KAAG,GAAR;AACA,gBAAGJ,IAAI,KAAKd,QAAL,CAAca,IAAd,CAAmBM,KAAvB,GAA+B,CAAC,GAAnC,EACA;AACI,qBAAKjB,QAAL,GAAgB,KAAhB;AACA,qBAAKO,IAAL;AACH,aAJD,MAMA;AACI,qBAAKT,QAAL,CAAca,IAAd,CAAmBC,CAAnB,GAAuBA,CAAvB;AACH;AACJ;AACJ,KAhDI;AAiDLM,kBAjDK,0BAiDUC,KAjDV,EAiDgBC,KAjDhB,EAiDsBC,IAjDtB,EAiD2B;AAC5BC,gBAAQC,GAAR,CAAY,kBAAkBJ,KAAlB,GAA0B,GAA1B,GAAgCC,KAA5C;AACA,gBAAOD,OAAMC,KAAb;AAEI,kBAAK,GAAE,CAAP;AACA,qBAAKvB,SAAL,CAAe2B,IAAf,CAAoBH,KAAKI,MAAL,GAAc,EAAlC;AACA,qBAAKX,QAAL;AAJJ;AAMH;AAzDI,CAAT","file":"gongGao.js","sourceRoot":"../../../../../assets/Script/hall","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        gongGaoTB:[],\n        lbNotice:cc.Label,\n        isRuning:false,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.xx.ptEvent.addObserver(this);\n    },\n    onDestroy(){\n        cc.xx.ptEvent.removeObserver(this);\n    },\n    next(){\n        var str = this.gongGaoTB.shift();\n        if(str){\n            this.lbNotice.string = str;\n            this.lbNotice.node.x = 300;\n            this.isRuning = true;\n        }\n        else this.stopRun();\n    },\n    startRun(){\n        if(!this.isRuning){\n            this.next();\n        }\n    },\n    stopRun(){\n        this.isRuning = false;\n    },\n    update(dt){\n        if(this.isRuning){\n            var x = this.lbNotice.node.x;\n            x -= dt*100;\n            if(x + this.lbNotice.node.width < -300)\n            {\n                this.isRuning = false;\n                this.next();\n            }\n            else \n            {\n                this.lbNotice.node.x = x;\n            }\n        }\n    },\n    onMessageEvent(funid,msgid,data){\n        console.log('gonggao scene' + funid + '_' + msgid);\n        switch(funid,msgid)\n        {\n            case 1,1:\n            this.gongGaoTB.push(data.notice + '');\n            this.startRun();\n        }\n    },\n});\n"]}